spring IOC。 AOP
AOP 类似装饰器。 A实现的东西由B来做，B做了除A的还有别的。
java是动态代理。一种是jdk原生实现，一种是cglib实现。extends


IOC是容器，注入。按顺序A依赖B，B依赖C；先实例C再B再A；有个图的关系。
而且实例有作用域：通常有单例/原型（五个呢）默认是singleton。
所以Spring的实例都是线程不安全，共享的，所以不存放变量。

堆/栈
栈 是天然的线程安全，每个线程各自占有。存储对象的引用和基本类型变量。
栈 函数栈 栈帧 先进后出 A-B-C。

堆 存储实例对象；线程不安全

（所以堆栈区别一个是存储一个是线程安全）

常量池 ——string对象+基本类型常量

对于字符串：其对象的引用都是存储在栈中的，
如果是编译期已经创建好(直接用双引号定义的)的就存储在常量池中，
如果是运行期（new出来的）才能确定的就存储在堆中。

threadlocal
如果多线程放堆里的实例不安全
